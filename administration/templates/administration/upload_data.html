{% extends 'base.html' %}
{% load static %}


{% block extrastyle %}
    <link rel="stylesheet" href="{% static 'css/demo.css' %}" />
    <link rel="stylesheet" href="{% static 'css/component.css' %}" />
    <link rel="stylesheet" href="{% static 'css/send-research.css' %}" />
    <style>
    .subjects .buttons .two div:first-of-type a,
    .subjects .buttons .three div:first-of-type a{
        background-color: #009687;
        border: none;
        color: #fff;
        width: 100%;
        padding: 10px 5px;
        display:inline-block;
    }

    </style>
{% endblock extrastyle %}
    

{% block title %}الرسائل البحثية - إدخال البيانات{% endblock title %}

{% block body %}
    <div class="box">
        <div class="row">
            <div class="col-lg-12 col-md-12 right">
                <div class="professor">
                    <img class="img-fluid" src="/media/images/professor2.png" alt="عضو هيئة تدريس" id="type-f-img">
                    <span id="name-span" class="name">{{ request.user.name }}</span>
                    <p class="choosed title"></p>
                    <p class="choosed name">صفحة رفع الملفات المطلوبة</p>
                </div>
            </div>
            <div class="col-lg-12 col-md-12 left subjects">
                <div class="row">             
                    <form id="sendr-form" method="POST" action="{% url 'administration:upload_data' %}" enctype="multipart/form-data" >
                        {% csrf_token %}
                        <div class="whole-box">
                            <div class="upper" id="rinputs">
                                <div id="choose-sub-box">
                                    <div class="col-12 item">
                                        <h2 style="color: #078194;">الملف الخاص بالمقررات التدريسية</h2>
                                        <label class="file">   
                                            <input type="file" name="subjects" id="subjects" class="inputfile inputfile-6 hide" data-multiple-caption="{count} files selected" multiple   accept=".xls, .xlsx"/>
                                            <label for="subjects"><span></span> <strong><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> رفع الملف النهائي&hellip;</strong></label>             
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 buttons">
                                <div class="row two" id="buttons">
                                    <div class="col-lg-12"><a href="/media/subjects_template.xlsx">تنزيل قالب ملئ البيانات</a></div>
                                </div>
                            </div>
                        </div>
                        <div class="whole-box">
                            <div class="upper" id="rinputs">
                                <div id="choose-sub-box">
                                    <div class="col-12 item">
                                        <h2 style="color: #078194;">الملف الخاص بأعضاء هيئة التدريس</h2>
                                        <label class="file">
                                            <input type="file" name="members" id="members" class="inputfile inputfile-6 hide" data-multiple-caption="{count} files selected" multiple   accept = ".xls, .xlsx"/>
                                            <label for="members"><span></span> <strong><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> رفع الملف النهائي&hellip;</strong></label>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 buttons">
                                <div class="row two" id="buttons">
                                    <div class="col-lg-12"><a href="/media/members_template.xlsx">تنزيل قالب ملئ البيانات</a></div>
                                </div>
                            </div>
                        </div>
                        <div class="whole-box">
                            <div class="upper" id="rinputs">
                                <input type="hidden" readonly id="numr" />
                                <div id="choose-sub-box">
                                    <div class="col-12 item">
                                        
                                        <h2 style="color: #078194;">الملف الخاص بالطلاب</h2>
                                        <label class="file">
                                            <input type="file" name="students" id="students" class="inputfile inputfile-6 hide" data-multiple-caption="{count} files selected" multiple   accept = ".xls, .xlsx"/>
                                            <label for="students"><span></span> <strong><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg>  رفع الملف النهائي&hellip;</strong></label>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 buttons">
                                <div class="row two" id="buttons">
                                    <div class="col-lg-12"><a href="/media/students_template.xlsx">تنزيل قالب ملئ البيانات</a></div>
                                    <div class="col-lg-12"><button type="submit" id="sent">إرسال</button></div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <section class="exit-buttons col-12">
                <div class="row">
                    <div class="col-lg-6"><a href="{% url 'administration:choose' %}">الرجوع</a></div>
                    <div class="col-lg-6"><a href="{% url 'users:logout' %}">تسجيل الخروج</a></div>
                </div>
            </section>
        </div>
    </div>

{% endblock body %}
{% block script %}
    <script src="https://kit.fontawesome.com/467a5808c9.js" crossorigin="anonymous"></script>
    <script>
;( function ( document, window, index )
{
	var inputs = document.querySelectorAll( '.inputfile' );
	Array.prototype.forEach.call( inputs, function( input )
	{
		var label	 = input.nextElementSibling,
			labelVal = label.innerHTML;

		input.addEventListener( 'change', function( e )
		{
			var fileName = '';
			if( this.files && this.files.length > 1 )
				fileName = ( this.getAttribute( 'data-multiple-caption' ) || '' ).replace( '{count}', this.files.length );
			else
				fileName = e.target.value.split( '\\' ).pop();

			if( fileName )
				label.querySelector( 'span' ).innerHTML = fileName;
			else
				label.innerHTML = labelVal;
		});

		// Firefox bug fix
		input.addEventListener( 'focus', function(){ input.classList.add( 'has-focus' ); });
		input.addEventListener( 'blur', function(){ input.classList.remove( 'has-focus' ); });
	});
}( document, window, 0 ));
    </script>
{% endblock script %}
